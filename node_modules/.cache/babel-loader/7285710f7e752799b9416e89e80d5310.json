{"ast":null,"code":"var _jsxFileName = \"E:\\\\CDAC\\\\Final Project\\\\plastic_ewaste_system\\\\plastic_ewaste_system\\\\src\\\\components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport \"../css/login.css\"; //import loginimg from \"../images/login.jpg\";\n\nimport { Link } from \"react-router-dom\";\nimport base_url from \"../api/bootapi\";\nimport axios from \"axios\";\nimport swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  useEffect(() => {\n    document.title = \"Login\";\n  }, []);\n  const [user, setUser] = useState({}); //Handler of Login form\n\n  const handlerForm = e => {\n    checkLogin(user);\n    e.preventDefault();\n  }; //Login check method\n\n\n  const checkLogin = data => {\n    axios.post(`${base_url}/login`, data).then(response => {\n      if (response.data.length == 0) {\n        swal.fire({\n          icon: \"error\",\n          title: \"Oops...\",\n          text: \"Wrong Credentials Entered or you have not registered yet.\"\n        });\n      } else {\n        if (response.data[0].admin == true) {\n          window.location = \"/admin\";\n          sessionStorage.setItem(\"admin\", \"admin\");\n        } else {\n          sessionStorage.setItem(\"username\", response.data[0].name);\n          const userdata = {\n            name: response.data[0].name,\n            email: response.data[0].email,\n            city: response.data[0].city,\n            phone: response.data[0].phone\n          };\n          sessionStorage.setItem(\"userdata\", JSON.stringify(userdata));\n          sessionStorage.setItem(\"userSession\", response.data[0].email);\n          localStorage.setItem(\"user\", response.data[0].email);\n          window.location = \"/home\";\n        }\n      }\n    }, error => {\n      console.log(error);\n      swal.fire({\n        icon: \"error\",\n        title: \"Oh no!\",\n        text: \"Server is down\"\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"login-img\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"vh-100 d-flex\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container w-50 m-auto log\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-12\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"m-auto w-75 pt-5 pb-5 align-self-center \",\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-center fw-bold mb-3\",\n                style: {\n                  color: \"#ba8b10\"\n                },\n                children: \"E-Waste Management\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-center fs-2\",\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handlerForm,\n                className: \"row g-3 mt-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-12\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    for: \"email\",\n                    class: \"form-label fs-5\",\n                    children: \"Email-ID\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 79,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"email\",\n                    className: \"form-control\",\n                    id: \"email\",\n                    name: \"email\",\n                    onChange: e => {\n                      setUser({ ...user,\n                        email: e.target.value\n                      });\n                    },\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-12 mt-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    for: \"password\",\n                    className: \"form-label fs-5\",\n                    children: \"Password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"password\",\n                    className: \"form-control\",\n                    id: \"password\",\n                    onChange: e => {\n                      setUser({ ...user,\n                        password: e.target.value\n                      });\n                    },\n                    required: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-12 mt-3 text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"fs-5\",\n                    children: [\"Not Registered??\", /*#__PURE__*/_jsxDEV(Link, {\n                      to: \"/register\",\n                      className: \"text-decoration-none fs-5\",\n                      children: \"\\xA0 \\xA0Register here\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 110,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 108,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"col-md-12 mt-5 text-center\",\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    to: \"/forget\",\n                    class: \"text-decoration-none fs-5\",\n                    children: \"Forgot password?\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  class: \"col-md-12 text-center\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    class: \"btn btn-lg btn-primary ps-5 pe-5 p-2  mb-2\",\n                    children: \"Login\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"HioLqKSiJ1UE3do5mPMkwwOK/rg=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["E:/CDAC/Final Project/plastic_ewaste_system/plastic_ewaste_system/src/components/Login.js"],"names":["React","useEffect","useState","Link","base_url","axios","swal","Login","document","title","user","setUser","handlerForm","e","checkLogin","preventDefault","data","post","then","response","length","fire","icon","text","admin","window","location","sessionStorage","setItem","name","userdata","email","city","phone","JSON","stringify","localStorage","error","console","log","color","target","value","password"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"../css/login.css\";\r\n//import loginimg from \"../images/login.jpg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport base_url from \"../api/bootapi\";\r\nimport axios from \"axios\";\r\nimport swal from \"sweetalert2\";\r\n\r\nfunction Login() {\r\n  useEffect(() => {\r\n    document.title = \"Login\";\r\n  }, []);\r\n\r\n  const [user, setUser] = useState({});\r\n\r\n  //Handler of Login form\r\n  const handlerForm = (e) => {\r\n    checkLogin(user);\r\n    e.preventDefault();\r\n  };\r\n\r\n  //Login check method\r\n  const checkLogin = (data) => {\r\n    axios.post(`${base_url}/login`, data).then(\r\n      (response) => {\r\n        if (response.data.length == 0) {\r\n          swal.fire({\r\n            icon: \"error\",\r\n            title: \"Oops...\",\r\n            text: \"Wrong Credentials Entered or you have not registered yet.\",\r\n          });\r\n        } else {\r\n          if (response.data[0].admin == true) {\r\n            window.location = \"/admin\";\r\n            sessionStorage.setItem(\"admin\", \"admin\");\r\n          } else {\r\n            sessionStorage.setItem(\"username\", response.data[0].name);\r\n            const userdata = {\r\n              name: response.data[0].name,\r\n              email: response.data[0].email,\r\n              city: response.data[0].city,\r\n              phone: response.data[0].phone,\r\n            };\r\n            sessionStorage.setItem(\"userdata\", JSON.stringify(userdata));\r\n            sessionStorage.setItem(\"userSession\", response.data[0].email);\r\n            localStorage.setItem(\"user\", response.data[0].email);\r\n            window.location = \"/home\";\r\n          }\r\n        }\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n        swal.fire({\r\n          icon: \"error\",\r\n          title: \"Oh no!\",\r\n          text: \"Server is down\",\r\n        });\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div class=\"login-img\">\r\n      <div className=\"vh-100 d-flex\">\r\n        <div className=\"container w-50 m-auto log\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-12\">\r\n              <div className=\"m-auto w-75 pt-5 pb-5 align-self-center \">\r\n                <h1\r\n                  className=\"text-center fw-bold mb-3\"\r\n                  style={{ color: \"#ba8b10\" }}\r\n                >\r\n                  E-Waste Management\r\n                </h1>\r\n                <h1 className=\"text-center fs-2\">Login</h1>\r\n\r\n                <form onSubmit={handlerForm} className=\"row g-3 mt-3\">\r\n                  <div className=\"col-md-12\">\r\n                    <label for=\"email\" class=\"form-label fs-5\">\r\n                      Email-ID\r\n                    </label>\r\n                    <input\r\n                      type=\"email\"\r\n                      className=\"form-control\"\r\n                      id=\"email\"\r\n                      name=\"email\"\r\n                      onChange={(e) => {\r\n                        setUser({ ...user, email: e.target.value });\r\n                      }}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-md-12 mt-4\">\r\n                    <label for=\"password\" className=\"form-label fs-5\">\r\n                      Password\r\n                    </label>\r\n                    <input\r\n                      type=\"password\"\r\n                      className=\"form-control\"\r\n                      id=\"password\"\r\n                      onChange={(e) => {\r\n                        setUser({ ...user, password: e.target.value });\r\n                      }}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className=\"col-md-12 mt-3 text-center\">\r\n                    <h5 className=\"fs-5\">\r\n                      Not Registered??\r\n                      <Link\r\n                        to=\"/register\"\r\n                        className=\"text-decoration-none fs-5\"\r\n                      >\r\n                        &nbsp; &nbsp;Register here\r\n                      </Link>\r\n                    </h5>\r\n                  </div>\r\n                  <div class=\"col-md-12 mt-5 text-center\">\r\n                    <Link to=\"/forget\" class=\"text-decoration-none fs-5\">\r\n                      Forgot password?\r\n                    </Link>\r\n                  </div>\r\n                  <div class=\"col-md-12 text-center\">\r\n                    <button\r\n                      type=\"submit\"\r\n                      class=\"btn btn-lg btn-primary ps-5 pe-5 p-2  mb-2\"\r\n                    >\r\n                      Login\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}