{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ashutosh sapkal\\\\Desktop\\\\Final\\\\plastic_ewaste_system\\\\src\\\\components\\\\Insert.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport base_url from \"../api/bootapi\";\nimport axios from \"axios\";\nimport swal from \"sweetalert2\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Insert = () => {\n  _s();\n\n  useEffect(() => {\n    document.title = \"Donate\";\n\n    if (sessionStorage.getItem(\"userSession\") == null) {\n      window.location = \"/\";\n    } else if (localStorage.getItem(\"user\") == null) {\n      window.location = \"/\";\n    }\n  }, []);\n  let uname = sessionStorage.getItem(\"username\");\n  let uemail = sessionStorage.getItem(\"userSession\");\n  let [uaddress, setUaddress] = useState(\"\");\n  let [ucity, setUcity] = useState(\"\");\n  let [uewasteQty, setUewasteQty] = useState(\"\");\n\n  let addressinp = e => setUaddress(e.target.value);\n\n  let cityinp = e => setUcity(e.target.value);\n\n  let ewasteinp = e => setUewasteQty(e.target.value);\n\n  const udata = {\n    name: uname,\n    email: uemail,\n    address: uaddress,\n    city: ucity,\n    ewasteQty: uewasteQty\n  };\n\n  const insertRequest = data => {\n    axios.post(`${base_url}/requests`, data).then(response => {\n      swal.fire({\n        icon: \"Success\",\n        title: \"Congratulations\",\n        text: \"You are contributing to a great cause.We will contact you soon via email or phone number provided for collection.\"\n      }).then(function () {\n        window.location = \"/view\";\n      });\n      clearFields();\n      clearError();\n    }, error => {\n      console.log(error);\n      swal.fire({\n        icon: \"error\",\n        title: \"Oh no!\",\n        text: \"Server is down\"\n      });\n    });\n  };\n\n  let [eaddress, setEaddress] = useState(\"\");\n  let [ecity, setEcity] = useState(\"\");\n  let [eewasteQty, setEewasteQty] = useState(\"\");\n\n  const clearFields = () => {\n    setUaddress(\"\");\n    setUcity(\"\");\n    setUplasticQty(\"\");\n    setUewasteQty(\"\");\n  };\n\n  const clearError = () => {\n    document.getElementById(\"address\").classList.remove(\"is-invalid\");\n    setEaddress(\"\");\n    document.getElementById(\"city\").classList.remove(\"is-invalid\");\n    setEcity(\"\");\n    document.getElementById(\"plasticQty\").classList.remove(\"is-invalid\");\n    setEplasticQty(\"\");\n    document.getElementById(\"ewasteQty\").classList.remove(\"is-invalid\");\n    setEewasteQty(\"\");\n  };\n\n  const validate = () => {\n    if (uaddress === \"\" || ucity === \"\" || uplasticQty === \"\" || uewasteQty === \"\") {\n      swal.fire(\"All fields are required\");\n    } else if (uaddress.search(/^[/#.0-9a-zA-Z\\s,-]+$/) < 0 || uaddress.length < 10) {\n      document.getElementById(\"address\").classList.add(\"is-invalid\");\n      setEaddress(\"Enter a valid address\");\n    } else if (uplasticQty.search(/(?=.*[0-9])(?=.*[a-zA-Z]).{6,100}/) < 0) {\n      document.getElementById(\"plasticQty\").classList.add(\"is-invalid\");\n      setEplasticQty(\"Enter description having atleast one digit, one character with minimum length of 6 and maximum of 100\");\n    } else if (uewasteQty.search(/(?=.*[0-9])(?=.*[a-zA-Z]).{6,100}/) < 0) {\n      document.getElementById(\"ewasteQty\").classList.add(\"is-invalid\");\n      setEewasteQty(\"Enter description having atleast one digit, one character with minimum length of 6 and maximum of 100\");\n    } else {\n      insertRequest(udata);\n      clearError();\n      clearFields();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      backgroundImage: \"linear-gradient(to right top, #019904, #00971d, #00942a, #009235, #008f3e)\"\n    },\n    className: \"mt-5 min-vh-100 pb-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"now\",\n      className: \"mt-5 p-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n        className: \"text-center text-white display-4 fw-bold mt-5 mb-5 pt-5\",\n        children: \"Donate Plastic and E-waste\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"row g-3 w-50 m-auto bg-light p-5 fs-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"name\",\n            className: \"form-label fs-4\",\n            children: \"Name :-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            style: {\n              border: \"0px none\"\n            },\n            type: \"text\",\n            className: \" bg-light fs-3 fw-bold \",\n            id: \"name\",\n            name: \"name\",\n            value: uname,\n            disabled: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"email\",\n            className: \"form-label fs-4\",\n            children: \"Email :-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            style: {\n              border: \"0px none\"\n            },\n            className: \"bg-light fs-3 fw-bold \",\n            id: \"email\",\n            name: \"email\",\n            value: uemail,\n            disabled: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"address\",\n            className: \"form-label\",\n            children: \"Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"address\",\n            placeholder: \"Building no or Bunglow no./Apartment/Locality/Road or Landmark-Zipcode\",\n            name: \"address\",\n            value: uaddress,\n            onFocus: clearError,\n            onChange: addressinp\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"invalid-feedback fs-6 fw-bold\",\n            children: eaddress\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"city\",\n            className: \"form-label\",\n            children: \"City\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"city\",\n            className: \"form-select\",\n            id: \"city\",\n            name: \"city\",\n            value: ucity,\n            onFocus: clearError,\n            onChange: cityinp,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              selected: true,\n              children: \"Choose City\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Mumbai\",\n              children: \"Mumbai\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Pune\",\n              children: \"Pune\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Hyderabad\",\n              children: \"Hyderabad\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Banglore\",\n              children: \"Banglore\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"invalid-feedback fs-6 fw-bold\",\n            children: ecity\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12 mb-1\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"plasticQty\",\n            className: \"form-label\",\n            children: \"Mention description of Plastic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"plasticQty\",\n            name: \"plasticQty\",\n            placeholder: \"Eg:-50 plastic bottles,20 kgs of plastic waste etc.....\",\n            value: uplasticQty,\n            onFocus: clearError,\n            onChange: plasticinp\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"invalid-feedback fs-6 fw-bold\",\n            children: eplasticQty\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-8 mb-1\",\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"ewasteQty\",\n            className: \"form-label\",\n            children: \"Mention description of E-Waste\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"ewasteQty\",\n            name: \"ewasteQty\",\n            placeholder: \"Eg:-2 mobiles, 1 Television etc......\",\n            value: uewasteQty,\n            onFocus: clearError,\n            onChange: ewasteinp\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"invalid-feedback fs-6 fw-bold\",\n            children: eewasteQty\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 text-center mt-5 mb-5  \",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"button\",\n            value: \"Donate\",\n            className: \"btn btn-primary btn-lg ps-5 pe-5 p-3\",\n            onClick: validate\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Insert, \"rQJCQQshlpn0JxdvnH9TJcXsg8U=\");\n\n_c = Insert;\nexport default Insert;\n\nvar _c;\n\n$RefreshReg$(_c, \"Insert\");","map":{"version":3,"sources":["C:/Users/ashutosh sapkal/Desktop/Final/plastic_ewaste_system/src/components/Insert.js"],"names":["React","useEffect","useState","base_url","axios","swal","Insert","document","title","sessionStorage","getItem","window","location","localStorage","uname","uemail","uaddress","setUaddress","ucity","setUcity","uewasteQty","setUewasteQty","addressinp","e","target","value","cityinp","ewasteinp","udata","name","email","address","city","ewasteQty","insertRequest","data","post","then","response","fire","icon","text","clearFields","clearError","error","console","log","eaddress","setEaddress","ecity","setEcity","eewasteQty","setEewasteQty","setUplasticQty","getElementById","classList","remove","setEplasticQty","validate","uplasticQty","search","length","add","backgroundImage","border","plasticinp","eplasticQty"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport base_url from \"../api/bootapi\";\r\nimport axios from \"axios\";\r\nimport swal from \"sweetalert2\";\r\n\r\nconst Insert = () => {\r\n  useEffect(() => {\r\n    document.title = \"Donate\";\r\n    if (sessionStorage.getItem(\"userSession\") == null) {\r\n      window.location = \"/\";\r\n    } else if (localStorage.getItem(\"user\") == null) {\r\n      window.location = \"/\";\r\n    }\r\n  }, []);\r\n\r\n  let uname = sessionStorage.getItem(\"username\");\r\n  let uemail = sessionStorage.getItem(\"userSession\");\r\n  let [uaddress, setUaddress] = useState(\"\");\r\n  let [ucity, setUcity] = useState(\"\");\r\n \r\n  let [uewasteQty, setUewasteQty] = useState(\"\");\r\n\r\n  let addressinp = (e) => setUaddress(e.target.value);\r\n  let cityinp = (e) => setUcity(e.target.value);\r\n\r\n  let ewasteinp = (e) => setUewasteQty(e.target.value);\r\n\r\n  const udata = {\r\n    name: uname,\r\n    email: uemail,\r\n    address: uaddress,\r\n    city: ucity,\r\n    \r\n    ewasteQty: uewasteQty,\r\n  };\r\n\r\n  const insertRequest = (data) => {\r\n    axios.post(`${base_url}/requests`, data).then(\r\n      (response) => {\r\n        swal\r\n          .fire({\r\n            icon: \"Success\",\r\n            title: \"Congratulations\",\r\n            text: \"You are contributing to a great cause.We will contact you soon via email or phone number provided for collection.\",\r\n          })\r\n          .then(function () {\r\n            window.location = \"/view\";\r\n          });\r\n        clearFields();\r\n        clearError();\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n        swal.fire({\r\n          icon: \"error\",\r\n          title: \"Oh no!\",\r\n          text: \"Server is down\",\r\n        });\r\n      }\r\n    );\r\n  };\r\n\r\n  let [eaddress, setEaddress] = useState(\"\");\r\n  let [ecity, setEcity] = useState(\"\");\r\n  \r\n  let [eewasteQty, setEewasteQty] = useState(\"\");\r\n\r\n  const clearFields = () => {\r\n    setUaddress(\"\");\r\n    setUcity(\"\");\r\n    setUplasticQty(\"\");\r\n    setUewasteQty(\"\");\r\n  };\r\n\r\n  const clearError = () => {\r\n    document.getElementById(\"address\").classList.remove(\"is-invalid\");\r\n    setEaddress(\"\");\r\n\r\n    document.getElementById(\"city\").classList.remove(\"is-invalid\");\r\n    setEcity(\"\");\r\n\r\n    document.getElementById(\"plasticQty\").classList.remove(\"is-invalid\");\r\n    setEplasticQty(\"\");\r\n\r\n    document.getElementById(\"ewasteQty\").classList.remove(\"is-invalid\");\r\n    setEewasteQty(\"\");\r\n  };\r\n\r\n  const validate = () => {\r\n    if (\r\n      uaddress === \"\" ||\r\n      ucity === \"\" ||\r\n      uplasticQty === \"\" ||\r\n      uewasteQty === \"\"\r\n    ) {\r\n      swal.fire(\"All fields are required\");\r\n    } else if (\r\n      uaddress.search(/^[/#.0-9a-zA-Z\\s,-]+$/) < 0 ||\r\n      uaddress.length < 10\r\n    ) {\r\n      document.getElementById(\"address\").classList.add(\"is-invalid\");\r\n      setEaddress(\"Enter a valid address\");\r\n    } else if (uplasticQty.search(/(?=.*[0-9])(?=.*[a-zA-Z]).{6,100}/) < 0) {\r\n      document.getElementById(\"plasticQty\").classList.add(\"is-invalid\");\r\n      setEplasticQty(\r\n        \"Enter description having atleast one digit, one character with minimum length of 6 and maximum of 100\"\r\n      );\r\n    } else if (uewasteQty.search(/(?=.*[0-9])(?=.*[a-zA-Z]).{6,100}/) < 0) {\r\n      document.getElementById(\"ewasteQty\").classList.add(\"is-invalid\");\r\n      setEewasteQty(\r\n        \"Enter description having atleast one digit, one character with minimum length of 6 and maximum of 100\"\r\n      );\r\n    } else {\r\n      insertRequest(udata);\r\n      clearError();\r\n      clearFields();\r\n    }\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundImage:\r\n          \"linear-gradient(to right top, #019904, #00971d, #00942a, #009235, #008f3e)\",\r\n      }}\r\n      className=\"mt-5 min-vh-100 pb-5\"\r\n    >\r\n      <div id=\"now\" className=\"mt-5 p-2\">\r\n        <h5 className=\"text-center text-white display-4 fw-bold mt-5 mb-5 pt-5\">\r\n          Donate Plastic and E-waste\r\n        </h5>\r\n\r\n        <form className=\"row g-3 w-50 m-auto bg-light p-5 fs-5\">\r\n          <div className=\"col-md-12 mb-3\">\r\n            <label for=\"name\" className=\"form-label fs-4\">\r\n              Name :-\r\n            </label>\r\n            <input\r\n              style={{ border: \"0px none\" }}\r\n              type=\"text\"\r\n              className=\" bg-light fs-3 fw-bold \"\r\n              id=\"name\"\r\n              name=\"name\"\r\n              value={uname}\r\n              disabled\r\n            />\r\n          </div>\r\n\r\n          <div className=\"col-md-12 mb-3\">\r\n            <label for=\"email\" className=\"form-label fs-4\">\r\n              Email :-\r\n            </label>\r\n            <input\r\n              type=\"email\"\r\n              style={{ border: \"0px none\" }}\r\n              className=\"bg-light fs-3 fw-bold \"\r\n              id=\"email\"\r\n              name=\"email\"\r\n              value={uemail}\r\n              disabled\r\n            />\r\n          </div>\r\n\r\n          <div className=\"col-12 mb-3\">\r\n            <label for=\"address\" className=\"form-label\">\r\n              Address\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"address\"\r\n              placeholder=\"Building no or Bunglow no./Apartment/Locality/Road or Landmark-Zipcode\"\r\n              name=\"address\"\r\n              value={uaddress}\r\n              onFocus={clearError}\r\n              onChange={addressinp}\r\n            />\r\n            <div class=\"invalid-feedback fs-6 fw-bold\">{eaddress}</div>\r\n          </div>\r\n\r\n          <div className=\"col-md-6 mb-3\">\r\n            <label for=\"city\" className=\"form-label\">\r\n              City\r\n            </label>\r\n            <div className=\"col-md-6 \"></div>\r\n            <select\r\n              id=\"city\"\r\n              className=\"form-select\"\r\n              id=\"city\"\r\n              name=\"city\"\r\n              value={ucity}\r\n              onFocus={clearError}\r\n              onChange={cityinp}\r\n            >\r\n              <option selected>Choose City</option>\r\n              <option value=\"Mumbai\">Mumbai</option>\r\n              <option value=\"Pune\">Pune</option>\r\n              <option value=\"Hyderabad\">Hyderabad</option>\r\n              <option value=\"Banglore\">Banglore</option>\r\n              {/* <option value=\"Delhi\">Delhi</option>\r\n              <option value=\"Nashik\">Nashik</option>\r\n              <option value=\"Chennai\">Chennai</option>\r\n              <option value=\"Kolkata\">Kolkata</option> */}\r\n            </select>\r\n            <div class=\"invalid-feedback fs-6 fw-bold\">{ecity}</div>\r\n          </div>\r\n\r\n          <div className=\"col-md-12 mb-1\">\r\n            <label for=\"plasticQty\" className=\"form-label\">\r\n              Mention description of Plastic\r\n            </label>\r\n          </div>\r\n          <div className=\"col-md-12\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"plasticQty\"\r\n              name=\"plasticQty\"\r\n              placeholder=\"Eg:-50 plastic bottles,20 kgs of plastic waste etc.....\"\r\n              value={uplasticQty}\r\n              onFocus={clearError}\r\n              onChange={plasticinp}\r\n            />\r\n            <div class=\"invalid-feedback fs-6 fw-bold\">{eplasticQty}</div>\r\n          </div>\r\n\r\n          <div className=\"col-md-8 mb-1\">\r\n            <label for=\"ewasteQty\" className=\"form-label\">\r\n              Mention description of E-Waste\r\n            </label>\r\n          </div>\r\n          <div className=\"col-md-12\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              id=\"ewasteQty\"\r\n              name=\"ewasteQty\"\r\n              placeholder=\"Eg:-2 mobiles, 1 Television etc......\"\r\n              value={uewasteQty}\r\n              onFocus={clearError}\r\n              onChange={ewasteinp}\r\n            />\r\n            <div class=\"invalid-feedback fs-6 fw-bold\">{eewasteQty}</div>\r\n          </div>\r\n\r\n          <div className=\"col-12 text-center mt-5 mb-5  \">\r\n            <input\r\n              type=\"button\"\r\n              value=\"Donate\"\r\n              className=\"btn btn-primary btn-lg ps-5 pe-5 p-3\"\r\n              onClick={validate}\r\n            />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Insert;\r\n"]},"metadata":{},"sourceType":"module"}